<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nosotros - Rostisería SC</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="DiseñoPag.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>
  
  <nav class="navbar navbar-expand navbar-custom sticky-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <i class="bi bi-fire text-warning me-2"></i>Rostisería SC
      </a>

      <div class="d-flex align-items-center ms-auto">
        <div class="d-none d-md-flex align-items-center me-3">
            <a class="nav-link mx-2" href="index.html">Inicio</a>
            <a class="nav-link mx-2" href="catalogo.html">Catálogo</a>
            <span id="navLoginContainer">
                <a class="nav-link mx-2" href="login.html">Ingresar</a>
            </span>
        </div>

        <a class="btn position-relative me-3 text-light" href="carrito.html">
            <i class="bi bi-cart3 fs-5"></i>
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="mini-cart-count">0</span>
        </a>

        <div class="dropdown">
            <button class="btn btn-outline-light border-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-list fs-4"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end shadow-lg">
                <li class="d-md-none"><a class="dropdown-item" href="catalogo.html">Ir al Catálogo</a></li>
                <li class="d-md-none"><a class="dropdown-item" href="login.html" id="mobileLoginLink">Iniciar Sesión</a></li>
                <li class="d-md-none"><hr class="dropdown-divider"></li>
                
                <li><a class="dropdown-item active" href="nosotros.html"><i class="bi bi-people me-2"></i>Nosotros</a></li>
                <li><a class="dropdown-item" href="contacto.html"><i class="bi bi-envelope me-2"></i>Contacto</a></li>
                
                <li id="navAdminItem" class="d-none">
                    <hr class="dropdown-divider">
                    <a class="dropdown-item text-warning fw-bold" href="admin.html">
                        <i class="bi bi-speedometer2 me-2"></i>Panel Admin
                    </a>
                </li>
            </ul>
        </div>
      </div>
    </div>
  </nav>

  <section class="py-5">
    <div class="container">
      <div class="row align-items-center g-5">
        <div class="col-lg-6">
          <h2 class="section-title">Sobre Nosotros</h2>
          <h4 class="fw-light text-muted mb-4">Pasión por el sabor casero desde el primer día.</h4>
          <p class="lead">
            En <strong>Rostisería Sabores Caseros</strong> llevamos más de 20 años ofreciendo auténticos sabores tradicionales a las familias chilenas.
          </p>
          <p>
            Empezamos como un pequeño negocio familiar con una receta secreta de adobo para pollos que ha pasado de generación en generación. Hoy, seguimos manteniendo ese espíritu en cada plato que servimos, utilizando ingredientes frescos y seleccionados.
          </p>
          <p>
            Nuestro compromiso es simple: que cada bocado te recuerde a la mejor comida hecha en casa, con el cariño y la calidad que te mereces.
          </p>
          <div class="mt-4">
            <a href="catalogo.html" class="btn btn-primary-custom">
                <i class="bi bi-bag-heart me-2"></i>Ver Menú
            </a>
          </div>
        </div>
        <div class="col-lg-6">
            <div class="position-relative">
                <img src="imagenes/nosotros.jpg" class="img-fluid rounded-4 shadow-lg" alt="Nuestro Equipo" 
                     onerror="this.src='https://images.unsplash.com/photo-1556910103-1c02745a30bf?auto=format&fit=crop&w=800&q=80'">
                <div class="position-absolute bottom-0 start-0 bg-warning text-dark p-3 rounded-3 shadow m-3">
                    <h5 class="m-0 fw-bold">20+ Años</h5>
                    <small>De Tradición</small>
                </div>
            </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer-section text-center">
    <div class="container">
        <p class="mb-0">&copy; 2025 Rostisería SC. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="api_utils.js"></script>
  <script src="TiempoSesion.js"></script>
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
        // 1. Contador del Carrito
        let cart = getCart();
        document.getElementById('mini-cart-count').textContent = cart.reduce((s, i) => s + (i.quantity || 1), 0);

        // 2. Lógica de Navbar (Sesión / Admin)
        const user = getLoggedUser();
        const navAdmin = document.getElementById("navAdminItem");
        const loginContainer = document.getElementById("navLoginContainer");
        const mobileLogin = document.getElementById("mobileLoginLink");

        if (user) {
            // Mostrar enlace Admin si corresponde
            if (user.isAdmin) {
                navAdmin.classList.remove("d-none");
            }
            
            // Cambiar "Ingresar" por "Salir" en PC
            loginContainer.innerHTML = `<a class="nav-link mx-2 text-warning" href="#" id="btnLogout"><i class="bi bi-person-circle me-1"></i>Salir</a>`;
            
            // Cambiar en Móvil
            if (mobileLogin) mobileLogin.textContent = "Cerrar Sesión";

            // Manejar Cierre de Sesión
            const handleLogout = (e) => {
                e.preventDefault();
                clearAuth();
                window.location.reload(); // Recargar página
            };

            document.getElementById("btnLogout").addEventListener("click", handleLogout);
            if (mobileLogin) mobileLogin.addEventListener("click", handleLogout);
        }
    });
  </script>
</body>
</html>